var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,l=(e,l)=>{for(var o in l||(l={}))t.call(l,o)&&s(e,o,l[o]);if(n)for(var o of n(l))r.call(l,o)&&s(e,o,l[o]);return e};import{p as o,b as a,o as i,l as u,q as E,t as d,s as g,v as _,c as O,_ as S,h as c,M as f,Q as A,f as C,R,U as m,V as p,S as H,W as T,X as M,I as b,d as v,e as D,N,Y as h,Z as W,$ as I}from"./index.8a505df9.js";import{u as L}from"./useAttrs.3d5ffbca.js";import{d as P,a as w,c as B,u as G,t as U,Q as y,w as x,n as j,g as V,f as F,W as K,j as k,k as X,Y,m as Q,l as $,A as z,X as q,U as J,v as Z,r as ee,V as te,L as ne,C as re}from"./element-plus.3788f1c9.js";import{i as se}from"./isEqual.bd391a24.js";import{u as le}from"./useMenuSetting.6202a880.js";import{u as oe}from"./useHeaderSetting.99d0c5fa.js";var ae=P({name:"BasicDrawer",inheritAttrs:!1,props:{title:o.string.def(""),visible:o.bool,loading:o.bool.def(!0),modal:o.bool.def(!0),showClose:o.bool.def(!0),destroyOnClose:o.bool.def(!0),closeOnPressEscape:o.bool.def(!0),direction:o.string.def("rtl"),size:{type:[Number,String],default:"340px"},closeFunc:{type:[Function,Object],default:null},handleClose:{type:[Function,Object],default:null}},emits:["visible-change","close","register"],setup(e,{emit:t}){const n=w(!1),r=L(),s=w(null),{prefixCls:o}=a("basic-drawer"),E={setDrawerProps:function(e){s.value=i(G(s)||{},e),Reflect.has(e,"visible")&&(n.value=!!e.visible)},emitVisible:void 0},d=V();d&&t("register",E,d.uid);const g=B((()=>i(U(e),G(s)))),_=B((()=>{const e=l(l(l({direction:"rtl"},G(r)),G(g)),{visible:G(n)});return e.title="设置管理",e})),O=B((()=>l(l({},r),G(_))));return y((()=>{n.value=e.visible})),x((()=>n.value),(e=>{j((()=>{var n;t("visible-change",e),d&&(null==(n=E.emitVisible)||n.call(E,e,d.uid))}))})),{prefixCls:o,onClose:async function(e){const{closeFunc:r}=G(_);if(t("close",e),r&&u(r)){const e=await r();n.value=!e}else n.value=!1},getMergeProps:g,getProps:_,getBindValues:O}}});ae.render=function(e,t,n,r,s,l){const o=F("el-scrollbar"),a=F("el-drawer"),i=K("loading");return k(),X(a,Z({"custom-class":`${e.prefixCls}`,onClose:e.onClose},e.getBindValues,{modelValue:e.getBindValues.visible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.getBindValues.visible=t),modal:e.getBindValues.modal,"close-on-press-escape":!1}),Y({default:Q((()=>[q($(o,null,{default:Q((()=>[J(e.$slots,"default")])),_:3},512),[[i,e.getBindValues.loading]])])),_:2},[e.$slots.title?void 0:{name:"title",fn:Q((()=>[$("div",{class:`${e.prefixCls}-title`},z(e.getMergeProps.title),3)]))}]),1040,["custom-class","onClose","modelValue","modal"])};const ie=ee({}),ue=ee({});const Ee=O((()=>S((()=>__import__("./LayoutTypePicker.0ed5998d.js")),["./LayoutTypePicker.0ed5998d.js","./LayoutTypePicker.7c089634.css","./index.8a505df9.js","./index.754a4fb7.css","./element-plus.3788f1c9.js"]))),de=O((()=>S((()=>__import__("./AppTheme.0e73f710.js")),["./AppTheme.0e73f710.js","./AppTheme.49a64b4a.css","./index.8a505df9.js","./index.754a4fb7.css","./element-plus.3788f1c9.js","./index.eaee1ddd.js","./index.e917b599.css","./useMenuSetting.6202a880.js","./useAppInject.83a3c7e6.js","./useAttrs.3d5ffbca.js","./isEqual.bd391a24.js","./_baseIsEqual.945998d2.js","./isObject.356ba3ed.js","./useHeaderSetting.99d0c5fa.js"]))),ge=O((()=>S((()=>__import__("./ThemePicker.f0551f91.js")),["./ThemePicker.f0551f91.js","./ThemePicker.c17814b3.css","./index.8a505df9.js","./index.754a4fb7.css","./element-plus.3788f1c9.js","./useAttrs.3d5ffbca.js","./isEqual.bd391a24.js","./_baseIsEqual.945998d2.js","./isObject.356ba3ed.js","./useMenuSetting.6202a880.js","./useHeaderSetting.99d0c5fa.js"]))),_e=O((()=>S((()=>__import__("./SwitchItem.c0cbf462.js")),["./SwitchItem.c0cbf462.js","./SwitchItem.e7838414.css","./index.8a505df9.js","./index.754a4fb7.css","./element-plus.3788f1c9.js","./useAttrs.3d5ffbca.js","./isEqual.bd391a24.js","./_baseIsEqual.945998d2.js","./isObject.356ba3ed.js","./useMenuSetting.6202a880.js","./useHeaderSetting.99d0c5fa.js"]))),Oe=[{title:"左栏菜单布局",mode:c.INLINE,type:f.SIDEBAR},{title:"顶栏菜单混合布局",mode:c.INLINE,type:f.MIX},{title:"顶栏菜单布局",mode:c.HORIZONTAL,type:f.TOP_MENU},{title:"左栏固定菜单布局",mode:c.INLINE,type:f.MIX_SIDEBAR}];var Se,ce;function fe(e,t){const n=function(e,t){const{getThemeColor:n}=v(),{setMenuSetting:r}=D(),{setTransitionSetting:s}=N(),{setWatermark:l,clear:o}=R();switch(e){case Se.CHANGE_LAYOUT:const{mode:e,type:i}=t,u=function(e){switch(e){case"mix":return{headerSetting:{bgColor:"#001529",theme:b.DARK},menuSetting:{bgColor:"#001529",theme:b.DARK}};case"top-menu":return{headerSetting:{bgColor:"#ffffff",theme:b.LIGHT},menuSetting:{bgColor:"#ffffff",theme:b.DARK}};case"mix-sidebar":case"sidebar":return{headerSetting:{bgColor:"#ffffff",theme:b.LIGHT},menuSetting:{bgColor:"#001529",theme:b.DARK}};default:return{headerSetting:{bgColor:"#ffffff"},menuSetting:{bgColor:"#001529"}}}}(i),{headerSetting:E,menuSetting:d}=u;return T(E.bgColor),M(d.bgColor),{headerSetting:E,menuSetting:Object.assign(d,{mode:e,type:i,collapsed:!1,show:!0})};case Se.CHANGE_THEME_COLOR:return n.value===t?{}:(A(a=t)&&C.COMMITPROJECTCONFIGSTATE({themeColor:a}),{themeColor:t});case Se.MENU_THEME:return M(t),{menuSetting:{bgColor:t}};case Se.HEADER_THEME:return T(t),{headerSetting:{bgColor:t}};case Se.SHOW_LOGO:return{showLogo:t};case Se.HEADER_SHOW:return{headerSetting:{show:t},settingButtonPosition:t?H.HEADER:H.FIXED};case Se.SHOW_BREADCRUMB:return{showBreadCrumb:t};case Se.SHOW_BREADCRUMB_ICON:return{showBreadCrumbIcon:t};case Se.GRAY_MODE:return p(t),{grayMode:t};case Se.COLOR_WEAK:return m(t),{colorWeak:t};case Se.WATER_MARK:return t?l("智汇校园管理系统"):o(),{waterMark:t};case Se.SHOW_FOOTER:return{showfooter:t};case Se.TABS_SHOW:return r({tagsSetting:{show:t}}),{tagsSetting:{show:t}};case Se.TABS_SHOW_CONTEXTMENU:return r({tagsSetting:{showContextmenu:t}}),{tagsSetting:{showContextmenu:t}};case Se.TABS_SHOW_QUICK:return r({tagsSetting:{showQuick:t}}),{tagsSetting:{showQuick:t}};case Se.OPEN_NPROGRESS:return s({transitionSetting:{openNProgress:t}}),{transitionSetting:{openNProgress:t}};case Se.OPEN_PAGE_LOADING:return s({transitionSetting:{openPageLoading:t}}),{transitionSetting:{openPageLoading:t}};default:return{}}var a}(e,t);C.COMMITPROJECTCONFIGSTATE(n)}(ce=Se||(Se={}))[ce.CHANGE_LAYOUT=0]="CHANGE_LAYOUT",ce[ce.CHANGE_THEME_COLOR=1]="CHANGE_THEME_COLOR",ce[ce.MENU_TRIGGER=2]="MENU_TRIGGER",ce[ce.MENU_COLLAPSED=3]="MENU_COLLAPSED",ce[ce.MENU_COLLAPSED_SHOW_TITLE=4]="MENU_COLLAPSED_SHOW_TITLE",ce[ce.MENU_WIDTH=5]="MENU_WIDTH",ce[ce.MENU_SHOW_SIDEBAR=6]="MENU_SHOW_SIDEBAR",ce[ce.MENU_THEME=7]="MENU_THEME",ce[ce.HEADER_SHOW=8]="HEADER_SHOW",ce[ce.HEADER_THEME=9]="HEADER_THEME",ce[ce.HEADER_FIXED=10]="HEADER_FIXED",ce[ce.HEADER_SEARCH=11]="HEADER_SEARCH",ce[ce.SHOW_BREADCRUMB=12]="SHOW_BREADCRUMB",ce[ce.SHOW_BREADCRUMB_ICON=13]="SHOW_BREADCRUMB_ICON",ce[ce.GRAY_MODE=14]="GRAY_MODE",ce[ce.COLOR_WEAK=15]="COLOR_WEAK",ce[ce.SHOW_LOGO=16]="SHOW_LOGO",ce[ce.SHOW_FOOTER=17]="SHOW_FOOTER",ce[ce.TABS_SHOW=18]="TABS_SHOW",ce[ce.TABS_SHOW_CONTEXTMENU=19]="TABS_SHOW_CONTEXTMENU",ce[ce.TABS_SHOW_QUICK=20]="TABS_SHOW_QUICK",ce[ce.OPEN_NPROGRESS=21]="OPEN_NPROGRESS",ce[ce.OPEN_PAGE_LOADING=22]="OPEN_PAGE_LOADING",ce[ce.WATER_MARK=23]="WATER_MARK";var Ae=P({name:"SettingDrawer",setup(e,{attrs:t}){const{getContentMode:n,getShowBreadCrumb:r,getShowBreadCrumbIcon:s,getShowLogo:l,getFullContent:o,getColorWeak:a,getGrayMode:i,getThemeColor:u,getShowFooter:E,getWaterMark:d}=v(),{getShowHeader:g,getFixed:_,getHeaderBgColor:O,getShowSearch:S}=oe(),{getIsHorizontal:c,getMenuBgColor:f,getMenuType:A,getMenuFixed:C,getTopMenuAlign:R,getIsMixSidebar:m,getMixSideTrigger:p,getMixSideFixed:H}=le(),{getTagsShow:T,getShowContextmenu:M,getShowQuick:b}=D(),{getOpenNProgress:L,getOpenPageLoading:P}=N();return()=>$(ae,Z(t,{title:"设置中心",width:340}),{default:()=>[$(F("el-divider"),null,{default:()=>[te("系统布局")]}),$(ne,null,[$(Ee,{typeList:Oe,handler:e=>{fe(Se.CHANGE_LAYOUT,{mode:e.mode,type:e.type,split:!G(c)&&void 0})},def:G(A)},null)]),$(F("el-divider"),null,{default:()=>[te("系统主题")]}),$(de,{colorList:h,def:G(u),event:Se.CHANGE_THEME_COLOR},null),$(F("el-divider"),null,{default:()=>[te("顶栏主题")]}),$(ge,{colorList:W,def:G(O),event:Se.HEADER_THEME},null),$(F("el-divider"),null,{default:()=>[te("菜单主题")]}),$(ge,{colorList:I,def:G(f),event:Se.MENU_THEME},null),$(F("el-divider"),null,{default:()=>[te("标签配置")]}),$(ne,null,[$(_e,{title:"显示标签栏",event:Se.TABS_SHOW,def:G(T)},null),$(_e,{title:"显示标签右键",event:Se.TABS_SHOW_CONTEXTMENU,def:G(M)},null),$(_e,{title:"显示快速功能",event:Se.TABS_SHOW_QUICK,def:G(b)},null)]),$(F("el-divider"),null,{default:()=>[te("加载模式配置")]}),$(ne,null,[$(_e,{title:"进度条模式",event:Se.OPEN_NPROGRESS,def:G(L)},null),$(_e,{title:"页面遮罩模式",event:Se.OPEN_PAGE_LOADING,def:G(P)},null)]),$(F("el-divider"),null,{default:()=>[te("其他配置")]}),$(ne,null,[$(_e,{title:"显示LOGO",event:Se.SHOW_LOGO,def:G(l),disabled:G(m)},null),$(_e,{title:"显示顶栏",event:Se.HEADER_SHOW,def:G(g)},null),$(_e,{title:"显示面包屑",event:Se.SHOW_BREADCRUMB,def:G(r),disabled:!G(g)},null),$(_e,{title:"显示面包屑图标",event:Se.SHOW_BREADCRUMB_ICON,def:G(s),disabled:!G(g)},null),$(_e,{title:"显示水印",event:Se.WATER_MARK,def:G(d)},null),$(_e,{title:"灰色模式",event:Se.GRAY_MODE,def:G(i)},null),$(_e,{title:"色弱模式",event:Se.COLOR_WEAK,def:G(a)},null),$(_e,{title:"显示底部版权",event:Se.SHOW_FOOTER,def:G(E)},null)])]})}}),Ce=P({name:"DrawerWraper",components:{SettingDrawer:Ae},setup(){const[e,{openDrawer:t}]=function(){E();const e=w(null),t=w(!1),n=w(""),r=()=>{const t=G(e);return t||_("useDrawer instance is undefined!"),t};return[function(r,s){d((()=>{e.value=null,ie[G(n)]=null})),G(t)&&g()&&r===G(e)||(n.value=s,e.value=r,t.value=!0,r.emitVisible=(e,t)=>{ue[t]=e})},{setDrawerProps:e=>{var t;null==(t=r())||t.setDrawerProps(e)},getVisible:B((()=>ue[~~G(n)])),openDrawer:(e=!0,t,s=!0)=>{var l;const o=Object.assign({},{visible:e,loading:!0});if(null==(l=r())||l.setDrawerProps(o),o.loading&&setTimeout((()=>{var e;null==(e=r())||e.setDrawerProps({loading:!1})}),350),s)return ie[G(n)]=null,void(ie[G(n)]=t);se(U(ie[G(n)]),t)||(ie[G(n)]=t)}}]}(),{getSettingPosition:n}=v(),{prefixCls:r}=a("setting-buttom");return{register:e,openDrawer:t,prefixCls:r,getPosition:B((()=>G(n)))}}});const Re=re()(((e,t,n,r,s,l)=>{const o=F("SettingDrawer");return k(),X("div",{class:[`${e.prefixCls}`,`${e.prefixCls}--${e.getPosition}`]},[$("i",{class:"el-icon-setting",onClick:t[1]||(t[1]=t=>e.openDrawer(!0,"rtl",e.ture))}),$(o,{onRegister:e.register},null,8,["onRegister"])],2)}));Ce.render=Re,Ce.__scopeId="data-v-2a39c040";var me=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ce});export{fe as b,me as i};
