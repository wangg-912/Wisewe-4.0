var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,l=(e,l)=>{for(var o in l||(l={}))t.call(l,o)&&n(e,o,l[o]);if(s)for(var o of s(l))r.call(l,o)&&n(e,o,l[o]);return e};import{p as o,b as a,o as i,l as u,q as E,t as d,s as _,v as O,c as g,_ as c,h as S,M as f,Q as A,f as C,R,U as m,V as p,S as H,W as T,X as b,I as v,d as M,e as D,N,Y as h,Z as W,$ as I}from"./index.2cb29b3d.js";import{u as L}from"./useAttrs.9d9d6b47.js";import{d as P,a as w,c as B,u as G,t as U,Q as y,w as j,n as V,g as x,f as K,W as F,j as k,k as X,Y,m as Q,l as $,A as z,X as q,U as J,v as Z,r as ee,V as te,L as se,C as re}from"./element-plus.34e177e2.js";import{i as ne}from"./isEqual.bd391a24.js";import{u as le}from"./useMenuSetting.36e44d26.js";import{u as oe}from"./useHeaderSetting.7dec9ecb.js";var ae=P({name:"BasicDrawer",inheritAttrs:!1,props:{title:o.string.def(""),visible:o.bool,loading:o.bool.def(!0),modal:o.bool.def(!0),showClose:o.bool.def(!0),destroyOnClose:o.bool.def(!0),closeOnPressEscape:o.bool.def(!0),direction:o.string.def("rtl"),size:{type:[Number,String],default:"340px"},closeFunc:{type:[Function,Object],default:null},handleClose:{type:[Function,Object],default:null}},emits:["visible-change","close","register"],setup(e,{emit:t}){const s=w(!1),r=L(),n=w(null),{prefixCls:o}=a("basic-drawer"),E={setDrawerProps:function(e){n.value=i(G(n)||{},e),Reflect.has(e,"visible")&&(s.value=!!e.visible)},emitVisible:void 0},d=x();d&&t("register",E,d.uid);const _=B((()=>i(U(e),G(n)))),O=B((()=>{const e=l(l(l({direction:"rtl"},G(r)),G(_)),{visible:G(s)});return e.title="设置管理",e})),g=B((()=>l(l({},r),G(O))));return y((()=>{s.value=e.visible})),j((()=>s.value),(e=>{V((()=>{var s;t("visible-change",e),d&&(null==(s=E.emitVisible)||s.call(E,e,d.uid))}))})),{prefixCls:o,onClose:async function(e){const{closeFunc:r}=G(O);if(t("close",e),r&&u(r)){const e=await r();s.value=!e}else s.value=!1},getMergeProps:_,getProps:O,getBindValues:g}}});ae.render=function(e,t,s,r,n,l){const o=K("el-scrollbar"),a=K("el-drawer"),i=F("loading");return k(),X(a,Z({"custom-class":`${e.prefixCls}`,onClose:e.onClose},e.getBindValues,{modelValue:e.getBindValues.visible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.getBindValues.visible=t),modal:e.getBindValues.modal,"close-on-press-escape":!1}),Y({default:Q((()=>[q($(o,null,{default:Q((()=>[J(e.$slots,"default")])),_:3},512),[[i,e.getBindValues.loading]])])),_:2},[e.$slots.title?void 0:{name:"title",fn:Q((()=>[$("div",{class:`${e.prefixCls}-title`},z(e.getMergeProps.title),3)]))}]),1040,["custom-class","onClose","modelValue","modal"])};const ie=ee({}),ue=ee({});const Ee=g((()=>c((()=>import("./LayoutTypePicker.b225f85d.js")),["./LayoutTypePicker.b225f85d.js","./LayoutTypePicker.bb82612c.css","./index.2cb29b3d.js","./index.72ffc96a.css","./element-plus.34e177e2.js"]))),de=g((()=>c((()=>import("./AppTheme.a531e635.js")),["./AppTheme.a531e635.js","./AppTheme.6b52eec9.css","./index.2cb29b3d.js","./index.72ffc96a.css","./element-plus.34e177e2.js","./index.211e66a5.js","./index.8fbcf6db.css","./useMenuSetting.36e44d26.js","./useAppInject.a386e3a4.js","./useAttrs.9d9d6b47.js","./isEqual.bd391a24.js","./_baseIsEqual.945998d2.js","./isObject.356ba3ed.js","./useHeaderSetting.7dec9ecb.js"]))),_e=g((()=>c((()=>import("./ThemePicker.c0d44c18.js")),["./ThemePicker.c0d44c18.js","./ThemePicker.f4f3231b.css","./index.2cb29b3d.js","./index.72ffc96a.css","./element-plus.34e177e2.js","./useAttrs.9d9d6b47.js","./isEqual.bd391a24.js","./_baseIsEqual.945998d2.js","./isObject.356ba3ed.js","./useMenuSetting.36e44d26.js","./useHeaderSetting.7dec9ecb.js"]))),Oe=g((()=>c((()=>import("./SwitchItem.c83d2ed0.js")),["./SwitchItem.c83d2ed0.js","./SwitchItem.6e89fad5.css","./index.2cb29b3d.js","./index.72ffc96a.css","./element-plus.34e177e2.js","./useAttrs.9d9d6b47.js","./isEqual.bd391a24.js","./_baseIsEqual.945998d2.js","./isObject.356ba3ed.js","./useMenuSetting.36e44d26.js","./useHeaderSetting.7dec9ecb.js"]))),ge=[{title:"左栏菜单布局",mode:S.INLINE,type:f.SIDEBAR},{title:"顶栏菜单混合布局",mode:S.INLINE,type:f.MIX},{title:"顶栏菜单布局",mode:S.HORIZONTAL,type:f.TOP_MENU},{title:"左栏固定菜单布局",mode:S.INLINE,type:f.MIX_SIDEBAR}];var ce,Se;function fe(e,t){const s=function(e,t){const{getThemeColor:s}=M(),{setMenuSetting:r}=D(),{setTransitionSetting:n}=N(),{setWatermark:l,clear:o}=R();switch(e){case ce.CHANGE_LAYOUT:const{mode:e,type:i}=t,u=function(e){switch(e){case"mix":return{headerSetting:{bgColor:"#001529",theme:v.DARK},menuSetting:{bgColor:"#001529",theme:v.DARK}};case"top-menu":return{headerSetting:{bgColor:"#ffffff",theme:v.LIGHT},menuSetting:{bgColor:"#ffffff",theme:v.DARK}};case"mix-sidebar":case"sidebar":return{headerSetting:{bgColor:"#ffffff",theme:v.LIGHT},menuSetting:{bgColor:"#001529",theme:v.DARK}};default:return{headerSetting:{bgColor:"#ffffff"},menuSetting:{bgColor:"#001529"}}}}(i),{headerSetting:E,menuSetting:d}=u;return T(E.bgColor),b(d.bgColor),{headerSetting:E,menuSetting:Object.assign(d,{mode:e,type:i,collapsed:!1,show:!0})};case ce.CHANGE_THEME_COLOR:return s.value===t?{}:(A(a=t)&&C.COMMITPROJECTCONFIGSTATE({themeColor:a}),{themeColor:t});case ce.MENU_THEME:return b(t),{menuSetting:{bgColor:t}};case ce.HEADER_THEME:return T(t),{headerSetting:{bgColor:t}};case ce.SHOW_LOGO:return{showLogo:t};case ce.HEADER_SHOW:return{headerSetting:{show:t},settingButtonPosition:t?H.HEADER:H.FIXED};case ce.SHOW_BREADCRUMB:return{showBreadCrumb:t};case ce.SHOW_BREADCRUMB_ICON:return{showBreadCrumbIcon:t};case ce.GRAY_MODE:return p(t),{grayMode:t};case ce.COLOR_WEAK:return m(t),{colorWeak:t};case ce.WATER_MARK:return t?l("智汇校园管理系统"):o(),{waterMark:t};case ce.SHOW_FOOTER:return{showfooter:t};case ce.TABS_SHOW:return r({tagsSetting:{show:t}}),{tagsSetting:{show:t}};case ce.TABS_SHOW_CONTEXTMENU:return r({tagsSetting:{showContextmenu:t}}),{tagsSetting:{showContextmenu:t}};case ce.TABS_SHOW_QUICK:return r({tagsSetting:{showQuick:t}}),{tagsSetting:{showQuick:t}};case ce.OPEN_NPROGRESS:return n({transitionSetting:{openNProgress:t}}),{transitionSetting:{openNProgress:t}};case ce.OPEN_PAGE_LOADING:return n({transitionSetting:{openPageLoading:t}}),{transitionSetting:{openPageLoading:t}};default:return{}}var a}(e,t);C.COMMITPROJECTCONFIGSTATE(s)}(Se=ce||(ce={}))[Se.CHANGE_LAYOUT=0]="CHANGE_LAYOUT",Se[Se.CHANGE_THEME_COLOR=1]="CHANGE_THEME_COLOR",Se[Se.MENU_TRIGGER=2]="MENU_TRIGGER",Se[Se.MENU_COLLAPSED=3]="MENU_COLLAPSED",Se[Se.MENU_COLLAPSED_SHOW_TITLE=4]="MENU_COLLAPSED_SHOW_TITLE",Se[Se.MENU_WIDTH=5]="MENU_WIDTH",Se[Se.MENU_SHOW_SIDEBAR=6]="MENU_SHOW_SIDEBAR",Se[Se.MENU_THEME=7]="MENU_THEME",Se[Se.HEADER_SHOW=8]="HEADER_SHOW",Se[Se.HEADER_THEME=9]="HEADER_THEME",Se[Se.HEADER_FIXED=10]="HEADER_FIXED",Se[Se.HEADER_SEARCH=11]="HEADER_SEARCH",Se[Se.SHOW_BREADCRUMB=12]="SHOW_BREADCRUMB",Se[Se.SHOW_BREADCRUMB_ICON=13]="SHOW_BREADCRUMB_ICON",Se[Se.GRAY_MODE=14]="GRAY_MODE",Se[Se.COLOR_WEAK=15]="COLOR_WEAK",Se[Se.SHOW_LOGO=16]="SHOW_LOGO",Se[Se.SHOW_FOOTER=17]="SHOW_FOOTER",Se[Se.TABS_SHOW=18]="TABS_SHOW",Se[Se.TABS_SHOW_CONTEXTMENU=19]="TABS_SHOW_CONTEXTMENU",Se[Se.TABS_SHOW_QUICK=20]="TABS_SHOW_QUICK",Se[Se.OPEN_NPROGRESS=21]="OPEN_NPROGRESS",Se[Se.OPEN_PAGE_LOADING=22]="OPEN_PAGE_LOADING",Se[Se.WATER_MARK=23]="WATER_MARK";var Ae=P({name:"SettingDrawer",setup(e,{attrs:t}){const{getShowBreadCrumb:s,getShowBreadCrumbIcon:r,getShowLogo:n,getColorWeak:l,getGrayMode:o,getThemeColor:a,getShowFooter:i,getWaterMark:u}=M(),{getShowHeader:E,getHeaderBgColor:d,getShowSearch:_}=oe(),{getIsHorizontal:O,getMenuBgColor:g,getMenuType:c,getIsMixSidebar:S}=le(),{getTagsShow:f,getShowContextmenu:A,getShowQuick:C}=D(),{getOpenNProgress:R,getOpenPageLoading:m}=N();return()=>$(ae,Z(t,{title:"设置中心",width:340}),{default:()=>[$(K("el-divider"),null,{default:()=>[te("系统布局")]}),$(se,null,[$(Ee,{typeList:ge,handler:e=>{fe(ce.CHANGE_LAYOUT,{mode:e.mode,type:e.type,split:!G(O)&&void 0})},def:G(c)},null)]),$(K("el-divider"),null,{default:()=>[te("系统主题")]}),$(de,{colorList:h,def:G(a),event:ce.CHANGE_THEME_COLOR},null),$(K("el-divider"),null,{default:()=>[te("顶栏主题")]}),$(_e,{colorList:W,def:G(d),event:ce.HEADER_THEME},null),$(K("el-divider"),null,{default:()=>[te("菜单主题")]}),$(_e,{colorList:I,def:G(g),event:ce.MENU_THEME},null),$(K("el-divider"),null,{default:()=>[te("标签配置")]}),$(se,null,[$(Oe,{title:"显示标签栏",event:ce.TABS_SHOW,def:G(f)},null),$(Oe,{title:"显示标签右键",event:ce.TABS_SHOW_CONTEXTMENU,def:G(A)},null),$(Oe,{title:"显示快速功能",event:ce.TABS_SHOW_QUICK,def:G(C)},null)]),$(K("el-divider"),null,{default:()=>[te("加载模式配置")]}),$(se,null,[$(Oe,{title:"进度条模式",event:ce.OPEN_NPROGRESS,def:G(R)},null),$(Oe,{title:"页面遮罩模式",event:ce.OPEN_PAGE_LOADING,def:G(m)},null)]),$(K("el-divider"),null,{default:()=>[te("其他配置")]}),$(se,null,[$(Oe,{title:"显示LOGO",event:ce.SHOW_LOGO,def:G(n),disabled:G(S)},null),$(Oe,{title:"显示顶栏",event:ce.HEADER_SHOW,def:G(E)},null),$(Oe,{title:"显示面包屑",event:ce.SHOW_BREADCRUMB,def:G(s),disabled:!G(E)},null),$(Oe,{title:"显示面包屑图标",event:ce.SHOW_BREADCRUMB_ICON,def:G(r),disabled:!G(E)},null),$(Oe,{title:"显示水印",event:ce.WATER_MARK,def:G(u)},null),$(Oe,{title:"灰色模式",event:ce.GRAY_MODE,def:G(o)},null),$(Oe,{title:"色弱模式",event:ce.COLOR_WEAK,def:G(l)},null),$(Oe,{title:"显示底部版权",event:ce.SHOW_FOOTER,def:G(i)},null)])]})}}),Ce=P({name:"DrawerWraper",components:{SettingDrawer:Ae},setup(){const[e,{openDrawer:t}]=function(){E();const e=w(null),t=w(!1),s=w(""),r=()=>{const t=G(e);return t||O("useDrawer instance is undefined!"),t};return[function(r,n){d((()=>{e.value=null,ie[G(s)]=null})),G(t)&&_()&&r===G(e)||(s.value=n,e.value=r,t.value=!0,r.emitVisible=(e,t)=>{ue[t]=e})},{setDrawerProps:e=>{var t;null==(t=r())||t.setDrawerProps(e)},getVisible:B((()=>ue[~~G(s)])),openDrawer:(e=!0,t,n=!0)=>{var l;const o=Object.assign({},{visible:e,loading:!0});if(null==(l=r())||l.setDrawerProps(o),o.loading&&setTimeout((()=>{var e;null==(e=r())||e.setDrawerProps({loading:!1})}),350),n)return ie[G(s)]=null,void(ie[G(s)]=t);ne(U(ie[G(s)]),t)||(ie[G(s)]=t)}}]}(),{getSettingPosition:s}=M(),{prefixCls:r}=a("setting-buttom");return{register:e,openDrawer:t,prefixCls:r,getPosition:B((()=>G(s)))}}});const Re=re()(((e,t,s,r,n,l)=>{const o=K("SettingDrawer");return k(),X("div",{class:[`${e.prefixCls}`,`${e.prefixCls}--${e.getPosition}`]},[$("i",{class:"el-icon-setting",onClick:t[1]||(t[1]=t=>e.openDrawer(!0,"rtl",e.ture))}),$(o,{onRegister:e.register},null,8,["onRegister"])],2)}));Ce.render=Re,Ce.__scopeId="data-v-2a39c040";var me=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ce});export{fe as b,me as i};
