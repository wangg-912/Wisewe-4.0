import{b as e,u as a,r as t,O as l,P as s}from"./index.2cb29b3d.js";import{_ as n}from"./index.7d300099.js";import{d as i,a as o,c as u,M as c,w as r,f as m,j as d,k as p,m as v,L as b,Z as h,l as f,A as T}from"./element-plus.34e177e2.js";var x=i({name:"MixTabs",components:{FontIcon:n},setup(){const n=e("mix-sidebar"),{currentRoute:i,push:m}=a(),d=o(""),p=u((()=>t.routes)),v=u((()=>p.value.filter((e=>{var a;return!(null==(a=e.meta)?void 0:a.hidden)}))));function b(){const e=i.value.fullPath.split("/"),a=l(v.value,(a=>"/"===a.path?"/home"==`/${e[1]}`:a.path===`/${e[1]}`));a>-1&&(d.value=`/${e[1]}`,h(a),t.setAcitveTab(d.value))}function h(e){const a=v.value[e];t.setMenuTabRouters(a.children)}return c((()=>{b()})),r((()=>i.value),(()=>{b()})),r((()=>d.value),(e=>{t.setAcitveTab(e)})),{prefixCls:n,activeName:d,tabRoutes:v,filterTab:function(e,a){return e.meta&&e.meta[a]?e.meta[a]:e.children[0].meta[a]},setActive:h,changeTab:function(e){const a=v.value[e.index];t.setMenuTabRouters(a.children),s(a.children[0].path)?window.open(a.children[0].path):(m(`${"/home"===d.value?"":d.value}/${a.children[0].path}`),t.setAcitveTab(d.value))}}}});const $={class:"label-item"},A={style:{height:"30px"}},R={class:"title-item"};x.render=function(e,a,t,l,s,n){const i=m("FontIcon"),o=m("el-tab-pane"),u=m("el-tabs");return d(),p(u,{class:`${e.prefixCls}`,modelValue:e.activeName,"onUpdate:modelValue":a[1]||(a[1]=a=>e.activeName=a),"tab-position":"left",onTabClick:e.changeTab},{default:v((()=>[(d(!0),p(b,null,h(e.tabRoutes,((a,t)=>(d(),p(o,{key:t,name:"/"===a.path?"/home":a.path},{label:v((()=>[f("div",$,[f("div",A,[f(i,{type:e.filterTab(a,"icon"),size:20},null,8,["type"])]),f("div",R,T(e.filterTab(a,"title")),1)])])),_:2},1032,["name"])))),128))])),_:1},8,["class","modelValue","onTabClick"])};export default x;
