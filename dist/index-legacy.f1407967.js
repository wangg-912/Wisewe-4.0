var __vite_style__=document.createElement("style");__vite_style__.innerHTML='@charset "UTF-8";[data-v-3b47c616]:root{--header-bg-color:#394664;--header-bg-hover-color:#273352;--header-active-menu-bg-color:#273352;--sider-dark-bg-color:#273352;--sider-dark-darken-bg-color:#273352;--sider-dark-lighten-1-bg-color:#273352;--sider-dark-lighten-2-bg-color:#273352}[data-v-3b47c616]:export{theme:#fff}.scroll-container[data-v-3b47c616]{white-space:nowrap;position:relative;width:100%}.scroll-container[data-v-3b47c616] .el-scrollbar__wrap{overflow:hidden}:root{--header-bg-color:#394664;--header-bg-hover-color:#273352;--header-active-menu-bg-color:#273352;--sider-dark-bg-color:#273352;--sider-dark-darken-bg-color:#273352;--sider-dark-lighten-1-bg-color:#273352;--sider-dark-lighten-2-bg-color:#273352}:export{theme:#fff}.scroll-container .el-scrollbar__bar.is-horizontal{height:0!important}[data-v-df6b086c]:root{--header-bg-color:#394664;--header-bg-hover-color:#273352;--header-active-menu-bg-color:#273352;--sider-dark-bg-color:#273352;--sider-dark-darken-bg-color:#273352;--sider-dark-lighten-1-bg-color:#273352;--sider-dark-lighten-2-bg-color:#273352}[data-v-df6b086c]:export{theme:#fff}.wisewe-quick-menu[data-v-df6b086c]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-left:1px solid #eee}.wisewe-quick-menu .el-icon-arrow-down.el-icon--right[data-v-df6b086c]{margin-left:0;cursor:pointer}.wisewe-quick-menu--item[data-v-df6b086c]{font-size:12px}[data-v-7be65596]:root{--header-bg-color:#394664;--header-bg-hover-color:#273352;--header-active-menu-bg-color:#273352;--sider-dark-bg-color:#273352;--sider-dark-darken-bg-color:#273352;--sider-dark-lighten-1-bg-color:#273352;--sider-dark-lighten-2-bg-color:#273352}[data-v-7be65596]:export{theme:#fff}.wisewe-layout-tags[data-v-7be65596]{height:30px;line-height:30px;border-bottom:1px solid #eee}.wisewe-layout-tags-wrapper[data-v-7be65596]{position:relative;height:inherit;display:flex;flex-direction:row}.wisewe-layout-tags-wrapper[data-v-7be65596]::after,.wisewe-layout-tags-wrapper[data-v-7be65596]::before{display:table;content:""}.wisewe-layout-tags-wrapper-next[data-v-7be65596],.wisewe-layout-tags-wrapper-prev[data-v-7be65596]{width:20px;height:30px;border:0;text-align:center;cursor:pointer}.wisewe-layout-tags-wrapper-prev[data-v-7be65596]{left:0;border-right:1px solid #eee}.wisewe-layout-tags-wrapper-next[data-v-7be65596]{right:0;border-left:1px solid #eee}.wisewe-layout-tags-wrapper-scroll[data-v-7be65596]{height:30px;flex:1;position:relative}.wisewe-layout-tags-wrapper-scroll .scroll-container[data-v-7be65596]{height:30px;line-height:30px}.wisewe-layout-tags-wrapper-scroll .scroll-container .tag-item[data-v-7be65596]{display:inline-block;position:relative;cursor:pointer;height:24px;line-height:22px;border:1px solid #d8dce5;border-radius:0;padding:0 6px;font-size:12px;margin-left:4px;outline:0;-webkit-text-decoration:0;text-decoration:0}.wisewe-layout-tags-wrapper-scroll .scroll-container .tag-item[data-v-7be65596]:last-of-type{margin-right:8px}.wisewe-layout-tags-wrapper-scroll .scroll-container .tag-item.selected[data-v-7be65596]::before{content:"";background:#fff;display:inline-block;width:8px;height:8px;border-radius:50%;position:relative;margin-right:5px}.wisewe-layout-tags-wrapper-scroll .scroll-container .tag-item .icon-close[data-v-7be65596]{width:14px;height:14px;border-radius:50%;text-align:center;line-height:14px;transition:all .3s cubic-bezier(.645,.045,.355,1);transform-origin:100% 50%;right:-2px}.wisewe-layout-tags-wrapper-scroll .scroll-container .tag-item .icon-close[data-v-7be65596]:before{display:inline-block}.wisewe-layout-tags-wrapper-scroll .scroll-container .tag-item .icon-close[data-v-7be65596]:hover{background-color:#fc0202;color:#fff}.wisewe-layout-tags-wrapper .contextmenu[data-v-7be65596]{margin:0;background:#fff;z-index:200;position:absolute;list-style-type:none;padding:5px 0;border-radius:4px;font-size:12px;font-weight:400;color:#333;box-shadow:2px 2px 3px 0 rgba(0,0,0,.3)}.wisewe-layout-tags-wrapper .contextmenu li[data-v-7be65596]{margin:0;padding:0 16px;cursor:pointer}.wisewe-layout-tags-wrapper .contextmenu li[data-v-7be65596]:hover{background:#eee}.wisewe-layout-tags-wrapper .contextmenu .line[data-v-7be65596]{margin:0}',document.head.appendChild(__vite_style__),System.register(["./index-legacy.3c9d9e06.js","./animation-legacy.20980627.js","./element-plus-legacy.7e7b8f5e.js"],(function(e){"use strict";var t,o,a,l,r,n,i,s,c,d,u,p,g,f,h,v,w,b,m,x,k,y,T,C,_,S,L,$,A,P,z,R,W,O;return{setters:[function(e){t=e.z,o=e.l,a=e.G,l=e.H,r=e.b,n=e.u,i=e.e},function(e){s=e.r},function(e){c=e.a,d=e.u,u=e.d,p=e.n,g=e.f,f=e.j,h=e.k,v=e.U,w=e.C,b=e.t,m=e.y,x=e.z,k=e.l,y=e.V,T=e.r,C=e.c,_=e.M,S=e.w,L=e.E,$=e.B,A=e.L,P=e.Z,z=e.a0,R=e.A,W=e.X,O=e.a1}],execute:function(){function q({el:e,position:a="scrollLeft",to:l,duration:r=500,callback:n}){const i=c(!1),u=e[a],p=l-u;let g=0;r=t(r)?500:r;const f=function(){if(!d(i))return;g+=20;const t=(l=g,c=u,h=p,(l/=r/2)<1?h/2*l*l+c:-h/2*(--l*(l-2)-1)+c);var l,c,h;((e,t,o)=>{e[t]=o})(e,a,t),g<r&&d(i)?s(f):n&&o(n)&&n()};return{start:()=>{i.value=!0,f()},stop:()=>{i.value=!1}}}var M=u({name:"ScrollPane",setup(){const e=c(null);return{handleScroll:function(t){const o=t.wheelDelta||40*-t.deltaY,a=d(e).wrap;a.scrollLeft=a.scrollLeft+o/4},scrollContainer:e,moveToTarget:function(t){const o=d(e).$el.offsetWidth,a=d(e).wrap,l=d(e).$parent.$parent.tagRefs;let r=null,n=null;if(l.length>0&&(r=l[0],n=l[l.length-1]),r===t)a.scrollLeft=0;else if(n===t)a.scrollLeft=a.scrollWidth-o;else{const e=l.findIndex((e=>e===t)),r=l[e-1],n=l[e+1],i=n.$el.offsetLeft+n.$el.offsetWidth+4,s=r.$el.offsetLeft-4;i>a.scrollLeft+o?p((()=>{const{start:e}=q({el:a,position:"scrollLeft",to:i-o,duration:500});e()})):s<a.scrollLeft&&p((()=>{const{start:e}=q({el:a,position:"scrollLeft",to:s,duration:500});e()}))}},moveTo:function(t){const o=d(e).wrap;p((()=>{const{start:e}=q({el:o,position:"scrollLeft",to:o.scrollLeft+t,duration:500});e()}))}}}});const Q=w(),j=Q(((e,t,o,a,l,r)=>{const n=g("el-scrollbar");return f(),h(n,{ref:"scrollContainer",class:"scroll-container",onWheel:e.handleScroll},{default:Q((()=>[v(e.$slots,"default",{},void 0,!0)])),_:3},8,["onWheel"])}));function E(){const e=c([]);let t=!1;return t||(!function(){const t=function(e){const t=[];return e&&e.forEach((e=>{e.meta&&e.meta.affix&&t.push(b(e))})),t}(a.getRoutes());e.value=t;for(const e of t)l.addTagAction({meta:e.meta,name:e.name,path:e.path})}(),t=!0),e.value.map((e=>e.meta?.title)).filter(Boolean)}M.render=j,M.__scopeId="data-v-3b47c616";var I=u({name:"QuickPicker",emits:["move"],setup(e,{emit:t}){const{prefixCls:o}=r("quick-menu"),{currentRoute:a,push:i,replace:s}=n();function c(e){const t=e.slice(-1)[0];i(t?t.path:"/")}return{prefixCls:o,refreshTag:async function(){await l.deleteCacheTag();const{path:e}=a.value;p((()=>{s({path:"/redirect"+e})}))},closeTag:async function(){c((await l.deleteTag(a.value)).tagsState)},closeOtherTags:async function(){const{path:e}=a.value;i(e),l.deleteOtherTags(a.value).then((()=>{t("move")}))},closeAllTags:async function(){c(await l.deleteAllTags())}}}});const B=w();m("data-v-df6b086c");const H=k("span",{class:"el-dropdown-link"},[k("i",{class:"el-icon-arrow-down el-icon--right"})],-1),U=y("刷新"),V=y("关闭"),X=y("关闭其他"),Y=y("关闭全部");x();const D=B(((e,t,o,a,l,r)=>{const n=g("el-dropdown-item"),i=g("el-dropdown-menu"),s=g("el-dropdown");return f(),h("div",{class:`${e.prefixCls}`},[k(s,{trigger:"click"},{dropdown:B((()=>[k(i,null,{default:B((()=>[k(n,{icon:"el-icon-refresh-right",class:`${e.prefixCls}--item`,onClick:e.refreshTag},{default:B((()=>[U])),_:1},8,["class","onClick"]),k(n,{icon:"el-icon-close",class:`${e.prefixCls}--item`,onClick:e.closeTag},{default:B((()=>[V])),_:1},8,["class","onClick"]),k(n,{icon:"el-icon-circle-close",class:`${e.prefixCls}--item`,onClick:e.closeOtherTags},{default:B((()=>[X])),_:1},8,["class","onClick"]),k(n,{icon:"el-icon-error",class:`${e.prefixCls}--item`,onClick:e.closeAllTags},{default:B((()=>[Y])),_:1},8,["class","onClick"])])),_:1})])),default:B((()=>[H])),_:1})],2)}));I.render=D,I.__scopeId="data-v-df6b086c";var F=e("default",u({name:"LayoutTags",components:{ScrollPane:M,QuickPicker:I},setup(){const{currentRoute:e,push:t,replace:o}=n(),a=c(null),s=c(null),u=c(!1),g=c(0),f=c(0),h=c({}),v=c([]);const{prefixCls:w}=r("layout-tags"),{getShowContextmenu:b,getShowQuick:m}=i(),x=T({showScroll:!1});E();const k=C((()=>l.getTagsState.filter((e=>!e.meta?.hideTag))));function y(t){return e.value.path===t.path}function $(){v.value=[];const t=d(v);p((()=>{for(const o of t)if(o&&o.to.path===e.value.path){d(s).moveToTarget(o),o.to.fullPath!==e.value.fullPath&&l.updateVisitedTags(e.value);break}}))}function A(){const{name:t,meta:o,path:a}=e.value;return t&&l.addTagAction({meta:o,name:o,path:a}),!1}function P(e){const o=e.slice(-1)[0];t(o?o.path:"/")}function z(){u.value=!1}return _((()=>{A()})),S((()=>e.value),(()=>{A(),function(){const{scrollContainer:e}=s.value,{wrap:t}=e;x.showScroll=t.scrollWidth>t.clientWidth}(),$()})),S((()=>u.value),(e=>{e?document.body.addEventListener("click",z):document.body.removeEventListener("click",z)})),{...L(x),tagRefs:v,setTagRef:function(e){v.value.push(e)},prefixCls:w,wrapper:a,scrollPane:s,visible:u,top:g,left:f,selectedTag:h,isActive:y,tagClickHandler:function(e){const{path:o}=e;t({path:o}).catch((e=>{}))},move:function(e){d(s).moveTo(e)},moveToCurrentTag:$,getTagsState:k,openMenu:function(e,t){if(!b)return;const{path:o}=e;if("/home"==o)return!1;const l=d(a).getBoundingClientRect().left,r=d(a).offsetWidth-105,n=t.clientX-l+4;f.value=n>r?r:n,g.value=t.offsetY,u.value=!0,h.value=e},closeTag:async function(e){const t=await l.deleteTag(e);y(e)&&P(t.tagsState)},refreshTag:async function(e){await l.deleteCacheTag();const{fullPath:t}=e;p((()=>{o({path:"/redirect"+t})}))},closeOtherTags:async function(){const{path:e}=h.value;t(e),l.deleteOtherTags(h.value).then((()=>{$()}))},closeAllTags:async function(){P(await l.deleteAllTags())},getShowContextmenu:b,getShowQuick:m}}}));const G=w();m("data-v-7be65596");const Z=k("i",{class:"el-icon-arrow-left"},null,-1),J={class:"scroll-container"},K=k("i",{class:"el-icon-arrow-right"},null,-1),N=k("i",{class:"el-icon-refresh-right"},null,-1),ee=y("  刷新 "),te=k("i",{class:"el-icon-close"},null,-1),oe=y("  关闭 "),ae=k("i",{class:"el-icon-circle-close"},null,-1),le=y("  关闭其他 "),re=k("i",{class:"el-icon-error"},null,-1),ne=y("  关闭全部");x();const ie=G(((e,t,o,a,l,r)=>{const n=g("router-link"),i=g("scroll-pane"),s=g("QuickPicker"),c=g("el-divider");return f(),h("div",{class:e.prefixCls},[k("div",{class:`${e.prefixCls}-wrapper`,ref:"wrapper"},[e.showScroll?(f(),h("div",{key:0,class:`${e.prefixCls}-wrapper-prev`,onClick:t[1]||(t[1]=t=>e.move(-200))},[Z],2)):$("",!0),k(i,{ref:"scrollPane",class:`${e.prefixCls}-wrapper-scroll`},{default:G((()=>[k("div",J,[(f(!0),h(A,null,P(e.getTagsState,(t=>(f(),h(n,{class:["tag-item el-tag",e.isActive(t)?"el-tag--dark selected":"el-tag--info"],ref:e.setTagRef,key:t.path,to:{path:t.path,query:t.query,fullPath:t.fullPath},onContextmenu:z((o=>e.openMenu(t,o)),["prevent"])},{default:G((()=>[k("span",null,R(t.meta.title),1),t&&t.meta&&t.meta.affix?$("",!0):(f(),h("i",{key:0,class:"el-icon-close icon-close",onClick:z((o=>e.closeTag(t)),["prevent","stop"])},null,8,["onClick"]))])),_:2},1032,["class","to","onContextmenu"])))),128))])])),_:1},8,["class"]),e.showScroll?(f(),h("div",{key:1,class:`${e.prefixCls}-wrapper-next`,onClick:t[2]||(t[2]=t=>e.move(200))},[K],2)):$("",!0),e.getShowQuick?(f(),h(s,{key:2,onMove:e.moveToCurrentTag},null,8,["onMove"])):$("",!0),e.getShowContextmenu?W((f(),h("ul",{key:3,style:{left:e.left+"px",top:e.top+"px"},class:"contextmenu"},[k("li",{onClick:t[3]||(t[3]=t=>e.refreshTag(e.selectedTag))},[N,ee,k(c,{class:"line"})]),e.isActive(e.selectedTag)?$("",!0):(f(),h("li",{key:0,onClick:t[4]||(t[4]=t=>e.closeTag(e.selectedTag))},[te,oe,k(c,{class:"line"})])),k("li",{onClick:t[5]||(t[5]=(...t)=>e.closeOtherTags&&e.closeOtherTags(...t))},[ae,le,k(c,{class:"line"})]),k("li",{onClick:t[6]||(t[6]=(...t)=>e.closeAllTags&&e.closeAllTags(...t))},[re,ne])],4)),[[O,e.visible]]):$("",!0)],2)],2)}));F.render=ie,F.__scopeId="data-v-7be65596"}}}));
